# Практическая работа №5 – Измерительные и исполнительные устройства в Интернете вещей
### Физические устройства Интернета вещей
Физические устройства Интернета вещей Физические устройства Интернета вещей чаще всего состоят из нескольких типов элементов:

![](../images/Pasted%20image%2020241118160525.png)

**Датчик** – чувствительный элемент, который контактирует с окружающей средой: измеряет показания, реагирует на объекты и создает сигнал об этом.

**Микроконтроллер** (или гейт) – специальная микросхема, предназначенная для управления различными электронными устройствами. Типичный микроконтроллер сочетает на одном кристалле функции процессора и периферийных устройств, содержит ОЗУ и (или) ПЗУ. По сути, это однокристальный компьютер, способный выполнять относительно простые задачи и реализовать логику работы физического устройства.

**Актуатор** – исполнительное устройство, например, *реле или транзистор*, способные что-то переключать – по сигналу от микроконтроллера или по дистанционной команде, которую примет радиомодуль. Например, если температура выйдет за допустимый предел, актуатор может включить вентиляцию или кондиционер.

Данный тип элементов Интернета вещей предназначен для воздействия на окружающую среду или определенный объект в ней.
К актуаторам относят:
- Сервоприводы
- Динамики
- Электронные замки
- Осветительные приборы
- Реле и транзисторы
- ИК-пульты

**Источник питания** – для работы микроконтроллера и подключенных к нему устройств необходимо питание. В зависимости от энергопотребления и задачи мы можем питать устройство от батарейки или от сети по проводу.

**Радиомодуль** – устройство для организации различных технологий беспроводной связи (например, GPRS, LTE, NB-IoT, GSM, Wi-Fi, Bluetooth и др.)

### Датчики и их устройство
Датчики – устройства, измеряющие физические характеристики объектов или окружающей среды (например, температуру, давление, наличие примесей в воздухе, положение в пространстве и т. д) и преобразующие ее в вид, удобный для дальнейшей обработки.

Датчики, выполненные на основе электронной техники, называются электронными датчиками. Отдельный датчик может измерять (контролировать) одну или одновременно несколько физических величин.

В состав датчика входят чувствительные и преобразовательные элементы.
- Измерительный преобразователь – средство измерений, в котором измеряемый сигнал преобразуется в сигнал другой формы, удобной для дальнейшей передачи, преобразования, обработки и хранения.
	- Первичный измерительный преобразователь – измерительный преобразователь, который взаимодействует непосредственно с исследуемым объектом.
- Чувствительный элемент – часть преобразовательного элемента средства измерений, первый элемент в измерительной цепи, находящийся под непосредственным воздействием измеряемой величины. В преобразовательном элементе средства измерений происходит одно из ряда последовательных преобразований величины.

Датчики являются элементом технических систем, предназначенных для измерения, сигнализации, регулирования, управления устройствами или процессами. Датчики преобразуют контролируемую величину (давление, температура, расход, концентрация, частота, скорость, перемещение, напряжение, электрический ток и т. п.) в сигнал (электрический, оптический, пневматический), удобный для измерения, передачи, преобразования, хранения и регистрации информации о состоянии объекта измерений

Исторически и логически датчики связаны с техникой измерений и измерительными приборами, например, термометры, расходомеры, барометры, прибор «авиагоризонт» и т. д. Обобщающий термин датчик укрепился в связи с развитием автоматических систем управления, как элемент обобщенной логической концепции датчик – устройство управления – исполнительное устройство – объект управления.

В автоматизированных системах управления датчики могут выступать в роли инициирующих устройств, приводя в действие оборудование, арматуру и программное обеспечение. Показания датчиков в таких системах, как правило, записываются на запоминающее устройство для контроля, обработки, анализа и вывода на дисплей или печатающее устройство. Огромное значение датчики имеют в робототехнике, где они выступают в роли рецепторов, посредством которых роботы и другие автоматические устройства получают информацию из окружающего мира и своих внутренних органов.

Основные характеристики датчиков:
- чувствительность (порог чувствительности) – наименьшее значение входной величины, приводящее к изменению измеряемой выходной
- погрешность выходного сигнала – определена для нормальных условий эксплуатации, при изменении условий окружающей среды, погрешность увеличивается
- диапазон измерения – минимально и максимально возможные значения величин, которые сможет детектировать датчик

### Классификация датчиков
По методу измерения:
- Активные (генераторные, сами воздействуют на окружающую среду)
- Пассивные (параметрические, окружающая среда воздействует на них)

По измеряемому параметру 
- Датчики давления
- Датчики расхода
- Уровня
- Температуры
- Датчик концентрации
- Радиоактивности (также именуются детекторами радиоактивности или излучений)
- Перемещения
- Положения
- Фотодатчики
- Датчик углового положения
- Датчик вибрации
- Датчик механических величин
- Датчик влажности

По характеру выходного сигнала
- Дискретные
- Аналоговые
- Цифровые
- Импульсные

По среде передачи: проводные и беспроводные. При этом датчики могут являться частью какого-либо прибора, тогда они называются интегральные, а могут представлять собой независимое устройство, так называемые элементные датчики.

По способу питания: автономные (работают от батареи) и подключенные к сети электропитания.

# Практическая работа №6 – Основы работы с протоколом MQTT. Брокераж сообщений
## MQTT протокол, основные особенности
MQTT (англ. message queuing telemetry transport) — упрощённый сетевой протокол, работающий поверх TCP/IP, ориентированный на обмен сообщениями между устройствами по принципу издатель-подписчик.

Протокол ориентируется на простоту в использовании, невысокую нагрузку на каналы связи, работу в условиях постоянной потери связи, лёгкую встраиваемость в любую систему. Основное предназначение — работа с телеметрией от различных датчиков и устройств. Использование шаблона подписчика обеспечивает возможность устройствам выходить на связь и публиковать сообщения, которые не были заранее известны или предопределены, в частности, протокол не вводит ограничений на формат передаваемых данных.

Главные особенности протокола MQTT:
- Компактный и легковесный — минимальные накладные расходы на пересылку данных, для экономии трафика.
- Устойчивость к потерям — гарантированная доставка в условиях нестабильных сетевых подключений.
- Асинхронный — позволяет обслуживать большое количество устройств, и не зависит от сетевых задержек.
- Поддержка QoS — возможность управлять приоритетом сообщений и гарантировать доставку сообщения адресату.
- Динамическая конфигурация — не требует предварительно согласования полей и форматов данных, может конфигурироваться «на лету».
- Работает за NAT — клиенты могут находиться за NAT, только сервер (брокер) должен иметь реальный IP. Позволяет обойтись без VPN и пробрасывания портов.
- Удобная адресация — поля данных имеют текстовые названия, понятные для человека. Не нужно запоминать цифровые адреса и битовые смещения.

Протокол MQTT работает на прикладном уровне поверх TCP/IP и использует по умолчанию 1883 порт (8883 при подключении через SSL).

![](../images/Pasted%20image%2020241118160629.png)

## Принцип работы MQTT
Обмен сообщениями в протоколе MQTT осуществляется между клиентом (client), который может быть издателем или подписчиком (publisher/subscriber) сообщений, и брокером (broker) сообщений (например, Mosquitto MQTT).

Брокер (Broker) — это центральный узел MQTT, обеспечивающий взаимодействие клиентов. Обмен данными между клиентами происходит только через брокера. В качестве брокера может выступать серверное ПО или контроллер. В его задачи входит получение данных от клиентов, обработка и сохранение данных, доставка данных клиентам, и контроль за доставкой сообщений.

#### Publisher/Subscriber
Для понимания разницы между Publisher и Subscriber разберем простой пример: `датчик влажности измеряет влажность в помещении, и если она опустилась ниже определенного уровня, включается увлажнитель воздуха`.

В данном случае датчик влажности выступает в роли Publisher: его задача сводится только к публикации данных в сторону брокера. Увлажнитель воздуха выступает в роли Subscriber: он подписывается на обновления данных о влажности и получает от брокера актуальные данные, при этом увлажнитель может сам решать, в какой момент включать увлажнение.

В этой схеме MQTT-клиенты, то есть датчик и увлажнитель, не знают о существовании друг друга, и не взаимодействуют напрямую. Брокер может получать данные из разных источников, проводить над ними манипуляции, например, рассчитывать среднее значение от нескольких датчиков, и уже обработанные данные возвращать подписчику

![](../images/Pasted%20image%2020241118160639.png)

При этом, асинхронность протокола MQTT предусматривает, что датчик и увлажнитель могут быть онлайн в разное время, терять пакеты, и быть недоступны. Брокер позаботится о том, чтобы сохранить в памяти последние данные, полученные от датчика, и обеспечить их доставку на увлажнитель.

Издатель отправляет данные на MQTT брокер, указывая в сообщении определенную тему, топик (topic). Подписчики могут получать разные данные от множества издателей в зависимости от подписки на соответствующие топики. 

Устройства MQTT используют определенные типы сообщений для взаимодействия с брокером, ниже представлены основные: 
- Connect – установить соединение с брокером
- Disconnect – разорвать соединение с брокером
- Publish – опубликовать данные в топик на брокере
- Subscribe – подписаться на топик на брокере
- Unsubscribe – отписаться от топика

![](../images/Pasted%20image%2020241118160648.png)

## Семантика топиков
Для идентификации сущностей в MQTT используются топики (или каналы). Топики состоят из UTF8-символов, и имеют древовидную структуру, похожую на файловую систему в UNIX. Это удобный механизм, позволяющий называть сущности в человекопонятном виде.

Пример топиков в MQTT: 
```c
# Датчик температуры на кухне
home/kitchen/temperature

# Датчик температуры в спальне
home/sleeping-room/temperature

# Датчик освещенности на улице
home/outdoor/light
```

Такой подход позволяет наглядно видеть, какие данные передаются, и удобно разрабатывать и отлаживать код, без необходимости запоминать цифровой адрес размещения данных

Иерархическая структура топиков имеет формат «дерева», что упрощает их организацию и доступ к данным. Топики состоят из одного или нескольких уровней, которые разделены между собой символом «/».

Пример топика, в который датчик температуры, расположенный в спальной комнате, публикует данные брокеру:
```c
/home/living-space/living-room1/temperature
```

Подписчик может так же получать данные сразу с нескольких топиков, для этого существуют wildcard. Они бывают двух типов: одноуровневые и многоуровневые. Для более простого понимания рассмотрим в примерах каждый из них:

1. Одноуровневый wildcard. Для его использования применяется символ «`+`» К примеру, нам необходимо получить данные о температуры во всех спальных комнатах:
```c
/home/living-space/+/temperature
```

В результате получаем данные с топиков:
```c
/home/living-space/living-room1/temperature
/home/living-space/living-room2/temperature
/home/living-space/living-room3/temperature
```

2. Многоуровневый wildcard. Для его использования применяется символ «`#`» К примеру, чтобы получить данные с различных датчиков всех спален в доме:

```c
/home/living-space/#
```

В результате получаем данные с топиков:
```c
/home/living-space/living-room1/temperature
/home/living-space/living-room1/light1
/home/living-space/living-room1/light2
/home/living-space/living-room1/humidity
/home/living-space/living-room2/temperature
/home/living-space/living-room2/light1
```

### Работа с MQTT в WirenBoard
Подробно о работе MQTT на контроллере WirenBoard вы можете ознакомиться в документации к оборудованию: https://wirenboard.com/wiki/MQTT

# Практическая работа №7 – Форматы представления данных
## Синтаксическая совместимость
Системы Интернета вещей часто характеризуется большим количеством разнородных компонентов, и для корректного взаимодействия этих компонентов (т.е. для обмена данным без потерь и повреждения) необходимо поддерживать синтаксическую совместимость.

Некоторые форматы представления данных особенно хорошо подходят для обмена данными между компонентами системы Интернета вещей и между различными системами. Примером таких форматов представления данных может служить XML (расширяемый язык разметки) и JSON.

## XML
XML (англ. eXtensible Markup Language) — расширяемый язык разметки. Рекомендован Консорциумом Всемирной паутины (W3C). Спецификация XML описывает XML- документы и частично описывает поведение XML-процессоров (программ, читающих XML-документы и обеспечивающих доступ к их содержимому). XML разрабатывался как язык с простым формальным синтаксисом, удобный для создания и обработки документов программами и одновременно удобный для чтения и создания документов человеком, с подчёркиванием нацеленности на использование в Интернете.

Язык называется расширяемым, поскольку он не фиксирует разметку, используемую в документах: разработчик волен создать разметку в соответствии с потребностями к конкретной области, будучи ограниченным лишь синтаксическими правилами языка. Расширение XML — это конкретная грамматика, созданная на базе XML и представленная словарём тегов и их атрибутов, а также набором правил, определяющих какие атрибуты и элементы могут входить в состав других элементов. Сочетание простого формального синтаксиса, удобства для человека, расширяемости, а также базирование на кодировках Юникод для представления содержания документов привело к широкому использованию как, собственно, XML, так и множества производных специализированных языков на базе XML в самых разнообразных программных средствах.

XML хранит данные в текстовом формате. Это обеспечивает независимый от программного и аппаратного обеспечения способ хранения, транспортировки и обмена данными. XML также облегчает расширение или обновление до новых операционных систем, новых приложений или новых браузеров без потери данных.

### Преимущества XML:
Поддержка метаданных Одним из самых больших преимуществ XML является то, что метаданные возможно помещать в теги в форме атрибутов (в JSON атрибуты будут добавлены как другие поля- члены в представлении данных, которые НЕ могут быть желательны). Визуализация браузера Большинство браузеров отображают XML в удобочитаемой и организованной форме. Древовидная структура XML в браузере позволяет пользователям естественным образом сворачивать отдельные элементы дерева. Эта функция будет особенно полезна при отладке. Поддержка смешанного контента Хорошим вариантом использования XML является возможность передачи смешанного контента в пределах одной и той же полезной нагрузки данных. Этот смешанный контент четко различается по разным тегам.

### Введение в XML
Простейший XML-документ выглядит следующим образом:

```xml
<?xml version="1.0" encoding="windows-1251"?> 
<book category="WEB"> 
	<title lang="en">Learning XML</title> 
	<author>Erik T. Ray</author> 
	<year>2003</year>
	<price></price>
</book>
```

Первая строка — это XML декларация. Здесь определяется версия XML (1.0) и кодировка файла. На следующей строке описывается корневой элемент документа `<book>` (открывающий тег). Следующие 4 строки описывают дочерние элементы корневого элемента ( `itle, author, year, price`). Последняя строка определяет конец корневого элемента `</book>` (закрывающий тег).

Документ XML состоит из элементов (elements). Элемент начинается открывающим тегом (start-tag) в угловых скобках, затем идет содержимое (content) элемента, после него записывается закрывающий тег (end-teg) в угловых скобках.

Информация, заключенная между тегами, называется содержимым или значением элемента: `<author>Erik T. Ray</author>`. Т.е. элемент author принимает значение Erik T. Ray. Элементы могут вообще не принимать значения.

Элементы могут содержать атрибуты, так, например, открывающий тег `<title lang="en">` имеет атрибут lang, который принимает значение en. Значения атрибутов заключаются в кавычки (двойные или ординарные).

Некоторые элементы, не содержащие значений, допустимо записывать без закрывающего тега. В таком случае символ / ставится в конце открывающего тега: `<name first="Иван" second="Петрович" />`

### Структура XML
XML документ должен содержать корневой элемент. Этот элемент является «родительским» для всех других элементов.

Все элементы в XML документе формируют иерархическое дерево. Это дерево начинается с корневого элемента и разветвляется на более низкие уровни элементов.

Все элементы могут иметь подэлементы (дочерние элементы):
```xml
<корневой>
	<потомок>
		<подпотомок>.....
		</подпотомок>
	</потомок>
</корневой>
```

### Правила синтаксиса (Валидность)
Структура XML документа должна соответствовать определенным правилам. XML- документ, отвечающий этим правилам, называется валидным (англ. Valid — правильный) или синтаксически верным. Соответственно, если документ не отвечает правилам, он является невалидным.

Основные правила синтаксиса XML:
1. Теги XML регистрозависимы — теги XML являются регистрозависимыми. Так, тег `<Letter>` не то же самое, что тег `<letter>`. Открывающий и закрывающий теги должны определяться в одном регистре:
```xml
<Message>Это неправильно</message>
<message>Это правильно </message>
```

2. XML элементы должны соблюдать корректную вложенность: 
```xml
<b><i>Некорректная вложенность</b></i>
<b><i>Корректная вложенность</i></b>
```

3. У XML документа должен быть корневой элемент — XML документ должен содержать один элемент, который будет родительским для всех других элементов. Он называется корневым элементом.
Примечание. В большинстве XML файлов отчетов для ФНС корневым элементом является `<Файл></Файл>`. После закрывающего тега `</Файл>` больше ничего быть не должно.

4. Значения XML атрибутов должны заключаться в кавычки:
```xml
<note date="12/11/2007">Корректная запись</note>
<note date=12/11/2007>Некорреткная запись</note>
```

### Сущности
Некоторые символы в XML имеют особые значения и являются служебными. Если вы поместите, например, символ `<` внутри XML элемента, то будет сгенерирована ошибка, так как парсер интерпретирует его, как начало нового элемента. В примере ниже будет сгенерирована ошибка, так как в значении `"ООО<Мосавтогруз>"` атрибута `НаимОрг` содержатся символы `<` и `>`.

```xml
<НПЮЛ ИННЮЛ="7718962261" КПП="771801001" НаимОрг="ООО<Мосавтогруз>"/>
```

Также ошибка будет сгенерирована и в слудющем примере, если название организации взять в обычные кавычки (английские двойные):
```xml
<НПЮЛ ИННЮЛ="7718962261" КПП="771801001" НаимОрг="ООО"Мосавтогруз""/>
```

Чтобы ошибки не возникали, нужно заменить символ `<` на его сущность. В XML существует 5 предопределенных сущностей:

![](../images/Pasted%20image%2020241118160711.png)

Примечание: Только символы `<` и `&` строго запрещены в XML. Символ `>` допустим, но лучше его всегда заменять на сущность.

Таким образом, корректными будут следующие формы записей:
```xml
<НПЮЛ ИННЮЛ="7718962261" КПП="771801001" НаимОрг="ООО&quot;Мосавтогруз&quot;"/>
```
или
```xml
<НПЮЛ ИННЮЛ="7718962261" КПП="771801001" НаимОрг="ООО«Мосавтогруз»"/>
```

В последнем примере английские двойные кавычки заменены на французские кавычки («ёлочки»), которые не являются служебными символами.

### Кодировки
И еще один важный момент, который стоит рассмотреть — кодировки. Существует множество кодировок. Самыми распространенными кириллическими кодировками являются Windows-1251 и UTF-8. Последняя является одним из стандартов, но большая часть ФНС отчетности имеет кодировку Windows-1251.

В XML файле кодировка объявляется в декларации:
```xml
<?xml version="1.0" encoding="windows-1251"?>
```

## JSON
JSON (англ. JavaScript Object Notation) — текстовый формат обмена данными, основанный на JavaScript.

Как и многие другие текстовые форматы, JSON легко читается людьми. Несмотря на происхождение от JavaScript (точнее, от подмножества языка стандарта ECMA-262 1999 года), формат считается независимым от языка и может использоваться практически с любым языком программирования. Для многих языков существует готовый код для создания и обработки данных в формате JSON.

### Преимущества JSON
1. Более подробная структурная информация в документе XML требует открытия и закрытия тегов, а JSON использует пары `имя / значение`, четко обозначенные `«{«и»}»` для объектов, `«[«и»]»` для массивов, `«,»` (запятую) для разделения пары и `«:»` (двоеточие) для отделения имени от значения. Можно легко различить число `1` и строку `"1"`, поскольку числа, строки (и логические значения) представлены по-разному в JSON. Можно легко различать отдельные элементы и коллекции одного размера (используя массивы JSON).
2. Малый размер сообщения При одинаковом объеме информации JSON почти всегда значительно меньше, что приводит к более быстрой передаче и обработке.
3. Близость к javascript JSON является подмножеством JavaScript, поэтому код для его анализа и упаковки вполне естественно вписывается в код JavaScript.
4. Проще представить значение null

### Синтаксис и структура JSON
Объект JSON имеет вид «ключ-значение» и обычно записывается в фигурных скобках. При работе с JSON все объекты хранятся в файле .json, но также они могут существовать как отдельные объекты в контексте программы.

Объект JSON выглядит так:
```json
{
	"first_name" : "John",
	"last_name" : "Smith",
	"location" : "London",
	"online" : true,
	"followers" : 987 
}
```

Это очень простой пример. Объект JSON может содержать множество строк.

Как видите, объект состоит из пар «ключ-значение», которые заключены в фигурные скобки. Большая часть данных в JSON записывается в виде объектов.

Между ключом и значением ставится двоеточие. После каждой пары нужно поставить запятую. В результате получается:
```json
"key" : "value", "key" : "value", "key": "value"
```

Ключ в JSON находится слева. Ключ нужно помещать в двойные кавычки. В качестве ключа можно использовать любую валидную строку. В рамках одного объекта все ключи должны быть уникальны. Ключ может содержать пробел (“first name”), но при программировании могут возникнуть проблемы с доступом к такому ключу. Потому вместо пробела лучше использовать подчеркивание (“first_name”).

Значения JSON находятся в правой части столбца. В качестве значения можно использовать любой простой тип данных:
- Строки
- Числа
- Объекты
- Массивы
- Логические данные (true или false)
- Ноль

Значения могут быть представлены и сложными типами данных (например, объектами или массивами JSON).

JSON поддерживает индивидуальный синтаксис каждого из перечисленных выше типов данных: если значение представлено строкой, то оно будет взято в кавычки, а если числом, то нет. Как правило, данные в файлах .json записываются в столбик, однако JSON можно записать и в строку:
```json
{ "first_name" : "John", "last_name": "Smith", "online" : true, }
```

Так обычно записываются данные JSON в файлы другого типа.

Записывая данные JSON в столбец, вы повышаете удобочитаемость файла (особенно если данных в файле много). JSON игнорирует пробелы между столбцами, потому с их помощью вы можете разделить данные на удобное для восприятия количество столбцов.
```json
{
	"first_name" : "John",
	"last_name" : "Smith",
	"online" : true
}
```

Обратите внимание: объекты JSON очень похожи на объекты JavaScript, но это не один и тот же формат. К примеру, в JavaScript можно использовать функции, а в JSON нельзя.

Главным преимуществом JSON является то, что данные в этом формате поддерживают многие популярные языки программирования, потому их можно быстро передать.

Теперь вы знакомы с базовым синтаксисом JSON. Но файлы JSON могут иметь сложную, иерархическую структуру, включающую в себя вложенные массивы и объекты.

### Сложные типы в JSON
JSON может хранить вложенные объекты и массивы, которые будут передаваться в качестве значения присвоенного им ключа.

**Вложенные объекты**

Ниже вы найдёте пример – файл users.json, в котором содержатся данные о пользователях.

Для каждого пользователя (“john”, “jesse”, “drew”, “jamie”) в качестве значения передаётся вложенный объект, который, в свою очередь, тоже состоит из ключей и значений.

**Примечание:** Первый вложенный объект JSON выделен красным.

```json
{
	" john" : {
		"username" : " John",
		"location" : "London",
		"online" : true,
		"followers" : 987
	},
	"jesse" : {
		"username" : "Jesse",
		"location" : "Washington", 
		"online" : false,
		"followers" : 432
	},
	"drew" : {
		"username" : "Drew", "location" : "Paris", "online" : false, "followers" : 321
	},
	"jamie" : {
		"username" : "Jamie", "location" : "Berlin", "online" : true, "followers" : 654 
	}
}
```


Обратите внимание: фигурные скобки используются и во вложенном, и в основном объекте. Запятые во вложенных объектах используются так же, как и в обычных.

**Вложенные массивы**

Данные можно вкладывать в JSON с помощью массивов JavaScript, которые будут передаваться как значения. В JavaScript в начале и в конце массива используются квадратные скобки ([ ]). Массив – это упорядоченный набор данных, который может содержать данные различных типов.

Массив используют для передачи большого количества данных, которые можно сгруппировать. Для примера попробуем записать данные о пользователе.

```json
{
	"first_name" : "John",
	"last_name" : "Smith",
	"location" : "London",
	
	"websites" : [
		{
			"description" : "work",
			"URL" : "https://www.johnsmithsite.com/"
		},
		{
			"desciption" : "tutorials",
			"URL" : "https://www.johnsmithsite.com/tutorials"
		}
	],
	
	"social_media" : [
		{
			"description" : "twitter",
			"link" : "https://twitter.com/johnsmith"
		},
		{
			"description" : "facebook",
			"link" : "https://www.facebook.com/johnsmith"
		},
		{
			"description" : "github",
			"link" : "https://github.com/johnsmith"
		}
	]
}
```

Ключам «websites» и «social_media» в качестве значений присвоены массивы, которые помещаются в квадратные скобки.

При помощи вложенных массивов и объектов можно создать сложную иерархию данных.

### Работа с XML и JSON
Для работы с объектами XML и JSON существуют стандартные библиотеки.

Например, для языка программирования Python это:
- Модуль json: https://docs.python.org/3/library/json.html
- Модуль ElementTree: https://docs.python.org/3/library/xml.etree.elementtree.html

## Иные вопросы
### По 5-ой работе:
### Часть 1
- Что делали в 5-ой работе?
### Что за датчики? Как описываются датчики в работе? Какими параметрами?
На контроллерах Wiren Board используются различные датчики для мониторинга состояний и сбора данных о физических параметрах окружающей среды. Рассмотрим типы датчиков и параметры, которыми они описываются в контексте работы на плате Wiren Board.

### Типы Датчиков Wiren Board

1. **Температурные датчики**:
   - **DS18B20** (1-Wire): Меряют температуру в диапазоне от -55°C до +125°C с точностью ±0.5°C.
   - **DHT22** (1-Wire): Комбинированный датчик температуры и влажности. Для температуры диапазон измерений от -40°C до +80°C с точностью ±0.5°C.

2. **Датчики влажности**:
   - **DHT22** (1-Wire): Измеряет влажность от 0 до 100% с точностью 2-5%.
   - **MH-Z19** (UART): Датчик CO2, который также может отдавать информацию о температуре в диапазоне от 0°C до 50°C.

3. **Датчики освещённости**:
   - **BH1750** (I2C): Измеряет освещённость в люксах (lx) в диапазоне от 1 до 65535 lx.

4. **Датчики движения**:
   - Простые ИК-датчики движения, которые могут быть подключены к дискретным входам.

5. **Датчики давления**:
   - **BMP280** (I2C): Измеряет атмосферное давление в диапазоне от 300 до 1100 гПа с точностью до 1 гПа.

6. **Датчики CO2**:
   - **MH-Z19** (UART): Измеряет концентрацию CO2 в воздухе от 0 до 5000 ppm.

7. **Датчики воды (для детектирования протечек)**:
   - Простые датчики на основе двух металлических контактов, которые определяют наличие воды по изменению сопротивления.

### Параметры Описания Датчиков

Датчики на плате Wiren Board описываются следующими параметрами:

1. **Тип интерфейса**:
   - 1-Wire, I2C, UART, Modbus, аналоговые и дискретные входы/выходы.

2. **Физический параметр**, который датчик измеряет:
   - Температура, влажность, освещённость, давление, концентрация газов, наличие движения, наличие воды и т.д.

3. **Диапазон измерений**:
   - Минимальное и максимальное значения, которые может измерить датчик.

4. **Точность измерений**:
   - Погрешность или разрешение датчика при измерениях.

5. **Единицы измерения**:
   - °C, %, lx, гПа, ppm, и т.д.

### Что такое точность и погрешность в датчиках
В контексте датчиков и измерительных приборов, **точность** и **погрешность** — это ключевые характеристики, которые определяют качество и надежность измерений. Хотя эти термины часто используются как взаимозаменяемые, они имеют различные, но взаимосвязанные значения.
### Точность (Accuracy)

**Точность** относится к степени согласованности или близости измеренного значения к истинному значению (или к референсному, стандартному значению) измеряемой величины. Точность — это мера того, насколько результат измерения близок к настоящему значению.

- **Высокая точность**: Измерения находятся очень близко к истинному значению.
- **Низкая точность**: Измерения разбросаны и могут существенно отличаться от истинного значения.

### Погрешность (Error)

**Погрешность** — это разница между измеренным значением и истинным (или референсным) значением. Погрешность измерения включает в себя несколько компонентов и может быть представлена как сумма систематических и случайных ошибок.

- **Систематическая погрешность** (Systematic Error): Это постоянная или предсказуемая ошибка, которая повторяется на протяжении множества измерений. Примером может быть смещение, когда все измерения сдвинуты на определённую величину относительно истинного значения из-за некорректной калибровки прибора.
- **Случайная погрешность** (Random Error): Это ошибка, которая варьируется от измерения к измерению и вызвана непредсказуемыми флуктуациями, которые обычно связаны с ограничениями измерительной аппаратуры или внешними факторами, такими как шумы, вибрации и т.д.

### Разрешение (Resolution)

**Разрешение** — это наименьшее изменение измеряемой величины, которое может быть различимо датчиком. Например, если температурный датчик имеет разрешение 0.1°C, это значит, что он может различать изменения температуры в пределах 0.1°C.


Пояснить про:
- Уникальный идентификатор датчика в веб-интерфейсе: Для температурного датчика DS18B20, подключенного через 1-Wire интерфейс, идентификатор может быть 28-00000a279d1c, где 28 указывает на тип датчика (DS18B20), а последующая часть — это уникальный серийный номер датчика.
- Использующийся протокол передачи данных:
	- 1-Wire: Протокол, который позволяет подключать множество датчиков (например, DS18B20) к одному проводу для передачи данных. Он используется для чтения температуры и имеет низкую скорость передачи данных.
	- I2C: Двухпроводной интерфейс, используемый для подключения низкоскоростных периферийных устройств. Датчики освещенности (например, BH1750) и давления (например, BMP280) часто используют I2C для обмена данными.
	- UART (Serial): Последовательный интерфейс, используемый для общения с датчиками, такими как MH-Z19 (датчик CO2). Передача данных через UART обеспечивает более высокую скорость и надёжность по сравнению с 1-Wire и I2C.
	- Modbus: Протокол, используемый для сетей устройств, обычно через RS-485. Позволяет управлять и собирать данные с большого количества устройств, включая датчики и реле.
- Интерфейс управления
	- Веб-интерфейс Wiren Board
	- MQTT
	- HTTP API
- Описание входов и выходов, схема подключения


### Часть 2
- Какие интерфейсы изучали в работе?

Вот таблица, которая наглядно показывает схожести и различия между рассмотренными интерфейсами: 1-Wire, I2C, UART, и Modbus.

| Характеристика   | 1-Wire                   | I2C                          | UART                         | Modbus                       |
|-----------------|--------------------------|------------------------------|------------------------------|------------------------------|
| **Тип интерфейса** | Однопроводный            | Двухпроводный                | Двухпроводный (для RX/TX)    | Двухпроводный (RTU) или Ethernet (TCP) |
| **Количество устройств на шине** | Множество (до 255)        | Множество (до 128)           | 2 (передатчик и приёмник)    | Множество (до 247 на RTU)    |
| **Скорость передачи данных** | Низкая (до 16.3 kbps)     | Средняя (до 3.4 Mbps)        | Высокая (до 1 Mbps и выше)  | Средняя (до 115.2 kbps для RTU) |
| **Дальность передачи** | Очень короткая (до 5 м)  | Короткая (до 10 м)           | Средняя (до 1 км)            | Длинная (до 1.2 км для RTU)  |
| **Простота использования** | Простой                   | Простой                      | Простой                      | Сложнее (из-за настроек протокола) |
| **Питание устройств** | Может быть паразитное    | Отдельное питание            | Отдельное питание            | Отдельное питание            |
| **Точность адресации** | Уникальный ID на устройство | Адрес на шине                | Нет адресации                | Адрес на шине                |
| **Применение**  | Датчики температуры       | Датчики, маломощные устройства | Датчики, модули связи        | Промышленное оборудование    |
| **Пример устройств** | DS18B20                   | BH1750, BMP280               | MH-Z19, GPS-модули           | PLC, драйверы двигателей     |
| **Наличие стандартизации** | Простая, собственная       | Хорошо стандартизирован (NXP) | Хорошо стандартизирован (EIA) | Хорошо стандартизирован (Modbus Org) |

### Ключевые Отличия и Схожести

- **Скорость передачи данных**: UART обычно обеспечивает самую высокую скорость передачи данных, в то время как 1-Wire имеет самую низкую.
- **Количество устройств на шине**: 1-Wire и I2C поддерживают подключение множества устройств, в то время как UART обычно используется для точка-точка соединения.
- **Дальность передачи**: Modbus (особенно в варианте RS-485) и UART поддерживают более длинные дистанции передачи данных, чем 1-Wire и I2C.
- **Простота использования**: 1-Wire и I2C считаются более простыми для начинающих из-за меньшего количества необходимых настроек и простоты подключения.
- **Применение**: I2C широко используется для подключения внутрисхемных устройств, UART — для модулей связи, 1-Wire — для датчиков температуры, а Modbus — в промышленных системах управления.
- **Тип интерфейса и питание**: 1-Wire уникален своей возможностью паразитного питания, в то время как другие интерфейсы требуют отдельного питания для каждого устройства.

Эта таблица помогает увидеть основные технические и практические аспекты каждого интерфейса, что важно при выборе подходящего способа подключения устройств к системам на базе Wiren Board.

В чём их особенность?
### Объяснить принцип "master-slave".
Принцип "master-slave" (ведущий-ведомый) — это фундаментальная модель организации взаимодействия между устройствами в различных системах связи и вычислительной технике. Эта модель широко применяется в протоколах передачи данных, системах управления и сетевых технологиях.
### Основные Концепции
1. **Мастер (Master)**:
   - **Ведущий устройство** в архитектуре master-slave.
   - **Инициирует** и контролирует обмен данными в сети или между устройствами.
   - Отправляет запросы ведомым устройствам и получает от них ответы.
   - Может быть только один активный мастер или несколько мастеров в более сложных коммуникационных протоколах, где они координируют доступ к шине.
2. **Ведомое (Slave)**:
   - **Ведомое устройство**, подчинённое мастеру.
   - Отвечает на запросы мастера, отправляя требуемые данные или выполняя заданные инструкции.
   - Не инициирует передачу данных самостоятельно, действует только по командам мастера.
   - В системе может быть одно или несколько ведомых устройств.
### Характеристики
- **Однонаправленный контроль**: Мастер управляет всеми операциями взаимодействия, в то время как ведомые устройства только реагируют на его запросы.
- **Адресация**: В системах с несколькими ведомыми устройствами каждое ведомое обычно имеет уникальный адрес или идентификатор, по которому мастер может обращаться к нему.
- **Синхронизация**: Мастер часто определяет тактовую частоту и синхронизацию передачи данных для всех ведомых устройств.
### Примеры Применения
1. **I2C (Inter-Integrated Circuit)**:
   - **Мастер**: Микроконтроллер или процессор, который генерирует тактовый сигнал (SCL) и начинает связь, отправляя адрес ведомого.
   - **Ведомые**: Датчики, EEPROM память, другие микроконтроллеры, которые реагируют на свой адрес и обмениваются данными с мастером.
2. **SPI (Serial Peripheral Interface)**:
   - **Мастер**: Устройство, которое генерирует сигнал тактирования и управляет обменом данными, начиная связь через Chip Select (CS).
   - **Ведомые**: Устройства, которые принимают данные от мастера и отправляют данные обратно в соответствии с тактами.
3. **Modbus**:
   - **Мастер**: Контроллер (например, PLC или компьютер с соответствующим программным обеспечением), который запросит данные или отправит команды нескольким ведомым устройствам.
   - **Ведомые**: Устройства, такие как датчики, исполнительные механизмы, которые выполняют операции по запросу мастера и отправляют данные обратно.
4. **USB (Universal Serial Bus)**:
   - **Мастер (Host)**: Компьютер или контроллер USB, который управляет всей коммуникацией на шине.
   - **Ведомые (Device)**: Устройства USB, такие как флеш-накопители, принтеры, внешние HDD, которые подключаются к хосту и обмениваются данными под его управлением.

### Плюсы и Минусы
**Преимущества**:
- **Упрощение управления сетью**: Мастер контролирует все взаимодействия, что упрощает реализацию протоколов.
- **Чётко определённые роли**: Ясное разделение ролей упрощает отладку и разработку систем.
- **Эффективное использование ресурсов**: Ведомые устройства могут быть простыми и дешёвыми, так как вся логика управления сосредоточена в мастере.
**Недостатки**:
- **Точка отказа**: Если мастер выходит из строя, вся система перестаёт функционировать.
- **Масштабируемость**: С увеличением числа ведомых устройств нагрузка на мастера увеличивается, что может привести к узким местам в производительности.
- **Ограниченная гибкость**: Ведомые устройства не могут общаться друг с другом напрямую, они должны делать это через мастер, что увеличивает задержки.

Принцип "master-slave" остаётся основой многих современных систем связи и управления, несмотря на некоторые его недостатки, благодаря простоте реализации и надёжности в структурированных средах.

### Сколько ведомых устройств можно подключить по Modbus?
В протоколе **Modbus**, количество ведомых устройств (slaves), которые можно подключить к одному мастеру (master), зависит от используемой версии протокола и физического интерфейса.

### Modbus RTU
- **Modbus RTU** — это бинарный вариант протокола Modbus, который обычно работает по интерфейсам RS-485 или RS-232.
  - **RS-485** является наиболее популярным выбором для Modbus RTU из-за его способности поддерживать длинные линии связи и множество устройств на одной шине.
  - В стандартной конфигурации Modbus RTU по **RS-485** можно подключить до **247 ведомых устройств**. Это связано с тем, что адреса ведомых устройств в Modbus RTU кодируются одним байтом, где значения от 1 до 247 используются для адресации устройств (адреса 248-255 зарезервированы и используются для специальных целей).
  - **RS-232** обычно ограничивает подключение до одного ведомого устройства из-за характеристик двухточечного соединения.

### Modbus ASCII
- **Modbus ASCII** — это текстовый вариант протокола Modbus, который также может использовать интерфейсы RS-485 и RS-232, но менее эффективен по сравнению с RTU из-за большего размера сообщений.
  - Как и в Modbus RTU, по **RS-485** можно подключить до **247 ведомых устройств**.
  - Использование **RS-232** также ограничивает количество ведомых до одного.

### Modbus TCP/IP
- **Modbus TCP/IP** — это вариант протокола Modbus, использующий сетевые технологии и работающий поверх TCP/IP.
  - В Modbus TCP/IP количество ведомых устройств, которые могут быть подключены к одному мастеру, теоретически ограничено только адресным пространством TCP/IP (по сути, может быть очень большим), но на практике ограничения будут зависеть от производительности оборудования и сетевой инфраструктуры.
  - Обычно мастер может управлять сотнями или даже тысячами ведомых устройств в сетевой конфигурации, если сеть и устройства позволяют выполнить это эффективно.

### Практические Ограничения
На практике, хотя протокол Modbus RTU позволяет использовать до 247 адресов для ведомых устройств, реальное количество устройств на шине может быть ограничено из-за:
- **Пропускной способности сети и задержек**: Большое количество устройств увеличивает время ответа в сети.
- **Качества электрической установки**: Длинные кабели и плохое качество подключения могут вызывать электрические помехи и ошибки передачи данных.
- **Производительности мастера**: Мастер должен успевать опрашивать все устройства и обрабатывать полученные данные.

Таким образом, в стандартной конфигурации Modbus RTU на RS-485 рекомендуется подключение до 247 ведомых устройств, но для оптимальной производительности системы обычно используют меньшее количество устройств, оптимально подобранное под конкретные требования и условия эксплуатации.

### Что такое витая пара?
**Витая пара** — это тип кабеля, который используется в телекоммуникационных и компьютерных сетях для передачи данных. Этот кабель состоит из пары изолированных медных проводников, которые скручены вместе для уменьшения электромагнитных помех как извне, так и между парами в том же кабеле.

### Основные Характеристики и Структура Витой Пары

#### Структура

1. **Проводники**: Каждая пара состоит из двух проводников, обычно выполненных из меди, хотя иногда могут использоваться и другие материалы, например, алюминий, покрытый медью.
2. **Изоляция**: Каждый проводник покрыт слоем изоляционного материала, чаще всего полиэтилена или ПВХ, чтобы предотвратить короткое замыкание между проводниками и защитить от внешних воздействий.
3. **Скрутка**: Проводники витой пары тесно скручены вместе. Скорость скрутки, или плотность, может варьироваться — это важный параметр, который помогает уменьшить влияние внешних помех и помех между разными парами в кабеле (кросс-ток).

#### Типы Витой Пары

1. **Неэкранированная витая пара (UTP — Unshielded Twisted Pair)**:
   - Наиболее распространённый тип витой пары.
   - Не имеет дополнительного экранирования вокруг каждой пары или вокруг всего кабеля.
   - Широко используется в офисных и жилых сетях для подключения компьютеров, телефонов и других устройств.

2. **Экранированная витая пара (STP — Shielded Twisted Pair) или FTP (Foiled Twisted Pair)**:
   - Имеет экранирующий слой из металлической фольги или оплётки вокруг каждой пары проводников или вокруг всех пар вместе.
   - Экран защищает передаваемые сигналы от электромагнитных помех, что важно для применения в промышленных и других условиях с высоким уровнем помех.
   
3. **Витая пара с экраном вокруг каждой пары (S/FTP — Shielded and Foiled Twisted Pair)**:
   - Комбинирует фольгу и общий экранирующий слой, обеспечивая максимальную защиту от помех.
   - Используется в особо сложных условиях, включая медицинские и научные лаборатории, а также в радиочастотных приложениях.

#### Категории Витой Пары

Витая пара классифицируется по категориям в зависимости от способности передавать сигналы на различных частотах и с разной пропускной способностью:

- **Категория 3 (Cat 3)**: До 16 МГц, используется в телефонии и для данных до 10 Мбит/с (10BASE-T).
- **Категория 5 (Cat 5)**: До 100 МГц, для сетей Ethernet до 100 Мбит/с (100BASE-TX).
- **Категория 5e (Cat 5e)**: До 100 МГц, но с более высоким качеством для работы с 1 Гбит/с (1000BASE-T).
- **Категория 6 (Cat 6)**: До 250 МГц, и может быть использована для сетей до 10 Гбит/с на ограниченных расстояниях.
- **Категория 6a (Cat 6a)**: До 500 МГц, поддерживает 10 Гбит/с на расстоянии до 100 метров.
- **Категория 7 (Cat 7)**: До 600 МГц (в некоторых источниках до 1000 МГц), предназначена для 10 Гбит/с с экранированием для каждой пары.

### Преимущества и Недостатки Витой Пары

**Преимущества**:
- **Низкая стоимость**: Витая пара дешевле коаксиального кабеля и оптоволокна.
- **Гибкость и удобство монтажа**: Проста в укладке и прокладке по кабельным каналам и трубам.
- **Широкая доступность**: Широко используется и легко доступна на рынке.

**Недостатки**:
- **Ограниченная дальность и пропускная способность**: Не подходит для очень высоких скоростей передачи данных на большие расстояния без усилителей или репитеров.
- **Восприимчивость к помехам**: УТП витая пара подвержена электромагнитным помехам, хотя экранированные версии (STP, FTP) значительно уменьшают эту проблему.

Витая пара является стандартным решением для большинства локальных сетей (LAN) и телефонной связи благодаря своей доступности, простоте использования и достаточной производительности для большинства офисных и домашних приложений.

### Сколько проводов нужно для взаимодействия по протоколу Modbus? 1-Wire?
Протоколы Modbus и 1-Wire используют разное количество проводов для организации связи между устройствами. Вот подробное описание для каждого протокола:

### Modbus

Протокол Modbus может работать в разных конфигурациях, наиболее распространенные из которых — **Modbus RTU** и **Modbus TCP**.

1. **Modbus RTU (Remote Terminal Unit)**:
   - **RS-485 (двухпроводный)**: Это наиболее часто используемая конфигурация для Modbus RTU. Для связи потребуется **2 провода** для передачи данных (A и B или D+ и D-), по которым осуществляется дифференциальная передача сигналов.
   - **RS-485 (четырехпроводный)**: Также возможен вариант с 4 проводами, где два провода используются для приёма данных, а два других — для передачи. Это позволяет организовать полнодуплексную связь.
   - **RS-232**: Для Modbus RTU через RS-232 используются **3 провода**: TX (передача), RX (приём), и GND (земля). Однако минимальная конфигурация может обойтись и **2 проводами** (TX и RX), если земляная связь обеспечивается через другие соединения (например, через корпуса оборудования).

2. **Modbus TCP**:
   - Для Modbus TCP, который работает поверх Ethernet, используются стандартные **Ethernet-кабели** (Cat 5, Cat 5e, Cat 6, Cat 6a), каждый из которых содержит **8 проводов**, сгруппированных в 4 пары. Однако на уровне физической передачи данных активно используются только 2 пары (4 провода), если речь идет о 100BASE-TX (Fast Ethernet). Для 1000BASE-T (Gigabit Ethernet) используются все 4 пары (8 проводов).

### 1-Wire

1-Wire — это протокол, который, как следует из названия, был разработан для минимизации количества проводов, необходимых для связи.

- **Основная конфигурация** 1-Wire требует **2 провода**:
  - **Data (D)**: Линия данных, по которой передаются и данные, и команды.
  - **Ground (GND)**: Общая земля.

- **Паразитное питание**: Если используется паразитное питание, то взаимодействие может происходить даже по **одному проводу** (Data), при этом земля передаётся через корпуса устройств или другие контакты. Однако на практике для надёжности обычно используются 2 провода (Data и GND).

- **Полное питание**: Если устройства 1-Wire получают питание не через Data линию, то к двум проводам (Data и GND) добавляется **третий провод для питания (Vcc)**.

### Сравнительная Таблица

| Протокол      | Минимальное количество проводов | Типичное использование |
|---------------|---------------------------------|------------------------|
| Modbus RTU    | 2 (RS-485) или 3 (RS-232)       | 2 провода (A и B) для RS-485, 3 провода (TX, RX, GND) для RS-232 |
| Modbus TCP    | 4 (для Fast Ethernet)           | 4 активных провода в стандартном Ethernet кабеле |
| 1-Wire        | 1 (паразитное питание)          | 2 провода (Data и GND) в обычной конфигурации, 1 провод (Data) при паразитном питании |

### Вывод
- **Modbus RTU** обычно использует **2 провода** для двухпроводной конфигурации RS-485, что является наиболее распространённым вариантом для промышленных сетей.
- **Modbus TCP** использует **4 провода** в составе стандартного Ethernet кабеля для Fast Ethernet связи.
- **1-Wire** может использовать **1 провод** (с паразитным питанием) или **2 провода** (Data и GND) в стандартной конфигурации, и до **3 проводов** (Data, GND, Vcc), если не используется паразитное питание.

### Для чего применяются Modbus и 1-Wire?
Протоколы **Modbus** и **1-Wire** применяются в различных областях автоматизации, сетевого оборудования и взаимодействия между различными устройствами. Рассмотрим подробнее каждый из этих протоколов, их особенности и сферы применения.

### Modbus

**Modbus** — это один из старейших и до сих пор широко используемых протоколов для связи в промышленных устройствах, особенно в системах автоматизации и контроля. Он был разработан в 1979 году компанией Modicon для своих контроллеров `PLC`, но благодаря своей простоте и открытости быстро стал де-факто стандартом в промышленности.

#### Основные характеристики Modbus:
- **Открытый протокол**: Легко интегрируется в большинство промышленных систем без лицензионных отчислений.
- **Простота**: Имеет простую структуру сообщений, что облегчает реализацию на различном оборудовании.
- **Гибкость**: Поддерживает разные типы сетей и интерфейсов, включая RS-485, RS-232, TCP/IP.
- **Функциональность**: Позволяет осуществлять чтение и запись в регистры данных, управлять устройствами и собирать информацию для мониторинга.

#### Применение Modbus:
1. **Промышленная автоматизация**: Связь с PLC (программируемыми логическими контроллерами), RTU (удаленными терминальными устройствами), и другими контроллерами для управления процессами.
2. **SCADA системы**: Интеграция с системами SCADA для мониторинга и управления производственными процессами на больших предприятиях.
3. **BMS (Building Management Systems)**: Управление системами зданий, включая освещение, отопление, вентиляцию и кондиционирование.
4. **IoT (Internet of Things)**: Сбор данных с различных датчиков и устройств для последующей обработки и анализа в централизованных системах.
5. **Сети датчиков и исполнительных устройств**: Обеспечение связи между датчиками температуры, давления, влажности и исполнительными механизмами.

### 1-Wire
**1-Wire** — это протокол связи, который позволяет подключать множество низкоскоростных устройств, таких как датчики температуры, идентификаторы и другие мониторинговые устройства, используя всего один провод для передачи данных (и второй провод для заземления). Он был разработан компанией Dallas Semiconductor (сейчас часть Maxim Integrated).

#### Основные характеристики 1-Wire:
- **Минимальное количество проводов**: Требует всего один провод для передачи данных и один для заземления. Возможно использование паразитного питания, при котором устройства получают энергию из данных линии.
- **Низкое энергопотребление**: Идеально подходит для использования в мобильных и автономных устройствах.
- **Цифровая сеть**: Позволяет подключать множество устройств к одной шине с уникальным адресом для каждого устройства.
- **Универсальность**: Поддерживает множество типов устройств, включая датчики, часы реального времени, память и другие.

#### Применение 1-Wire:
1. **Мониторинг температуры**: Датчики температуры 1-Wire часто используются в системах контроля температуры для промышленных, жилых и коммерческих приложений.
2. **Системы идентификации**: Использование 1-Wire для RFID-подобных приложений, где каждое устройство имеет уникальный идентификатор.
3. **Умные аксессуары и одежда**: Встраивание датчиков в умные аксессуары и одежду для сбора данных о состоянии и действиях пользователя.
4. **Автомобильная промышленность**: Применение в автомобильных системах для чтения серийных номеров и данных с датчиков.
5. **Домашняя автоматизация**: Интеграция в системы умного дома для сбора данных с датчиков и управления устройствами.

### Заключение

Оба протокола, **Modbus** и **1-Wire**, играют важную роль в создании эффективных и экономичных систем автоматизации и мониторинга. **Modbus** является более мощным и многофункциональным, идеально подходящим для промышленных и крупномасштабных систем, тогда как **1-Wire** предлагает простоту и эффективность для подключения большого количества низкоскоростных устройств с минимальным количеством проводов.


### Где применяется CAN?
Протокол **CAN (Controller Area Network)** широко используется в различных областях, где требуется надёжная и эффективная система передачи данных между множеством устройств. Он был разработан компанией Bosch в 1980-х годах для автомобильной промышленности, но его применение распространилось и на другие сферы.

### Основные Характеристики CAN

- **Надёжность**: Высокая устойчивость к помехам и ошибкам благодаря использованию дифференциальной передачи данных и механизмов автоматического обнаружения и коррекции ошибок.
- **Многоточечная передача**: Позволяет множеству устройств (до 112 при использовании стандартных микросхем) общаться в рамках одной сети без использования центрального управляющего узла.
- **Высокая скорость передачи данных**: До 1 Мбит/с на дистанции до 40 метров, что оптимально подходит для систем реального времени.
- **Приоритизация сообщений**: Встроенная система приоритетов, позволяющая важным сообщениям быстрее доставляться по сети.

### Области Применения CAN

1. **Автомобильная Промышленность**
   
   CAN широко применяется в автомобилях для связи между различными микроконтроллерами и устройствами. Некоторые из примеров включают:

   - **Управление двигателем**: Считывание датчиков и управление топливной системой, зажиганием, и другими аспектами работы двигателя.
   - **Трансмиссия**: Связь с блоком управления трансмиссией для оптимизации переключения передач.
   - **Системы безопасности**: Интеграция с ABS (антиблокировочной системой тормозов), ESP (системой стабилизации), подушками безопасности.
   - **Комфорт в салоне**: Управление климат-контролем, аудиосистемой, электрическими стеклоподъёмниками и зеркалами.
   - **Индикация и приборы**: Передача данных от датчиков к приборной панели, управление индикаторами и дисплеями.

2. **Промышленные Автоматизированные Системы**

   В промышленности CAN используется для связи между различными частями автоматизированных производственных линий и машин:

   - **Управление производственными машинами**: Связь между контроллерами на конвейерных системах, станках с ЧПУ, роботизированных цехах.
   - **Датчики и исполнительные механизмы**: Сбор данных с датчиков и управление исполнительными устройствами в реальном времени.
   - **Системы диагностики**: Мониторинг состояния оборудования и быстрое определение неисправностей.

3. **Сельскохозяйственная Техника**

   CAN применяется в сельскохозяйственной технике для управления и мониторинга:

   - **Трактора и комбайны**: Управление двигателями, мониторинг системы сбора урожая, автоматическое управление направлением движения.
   - **Системы точного земледелия**: Использование CAN для связи с GPS-навигаторами и системами автоматического управления дозированием семян и удобрений.

4. **Авиационная и Космическая Техника**

   В авиации и космонавтике CAN используется для:

   - **Системы управления полётом**: Обмен данными между датчиками, навигационными системами и системами управления двигателями.
   - **Системы жизнеобеспечения**: Мониторинг и управление системами поддержания жизнедеятельности в космических кораблях и спутниках.

5. **Медицинское Оборудование**

   В медицинских устройствах и системах CAN применяется для:

   - **Диагностическое оборудование**: Связь между различными модулями сканеров МРТ, КТ, ультразвуковых систем.
   - **Управление медицинскими приборами**: Системы управления хирургическими роботами, настройка параметров медицинских аппаратов.

### Заключение

CAN является универсальным протоколом, который находит применение везде, где требуется надёжная, эффективная и быстрая передача данных между множеством устройств в условиях высоких помех и требований к реальному времени. Его гибкость и надёжность делают этот протокол идеальным выбором для автомобильной промышленности, промышленной автоматизации, сельского хозяйства, а также в авиации и медицине.

### Какая скорость передачи данных у протокола CAN? А у Modbus и 1-Wire?


Расшифруйте I2R.
Где применяется I2R?